---
import 'glider-js/glider.min.css';
import { t } from 'i18next'
---
<div class="glider-contain">
  <div class="glider">
    <slot />
  </div>

  <button aria-label={t('icon.previous')} class="glider-prev">
    <i class='pi pi-angle-left'></i>
  </button>
  <button aria-label={t('icon.next')} class="glider-next">
    <i class='pi pi-angle-right'></i>
  </button>
  
  <div role="tablist" class="dots"></div>
</div>

<style is:global>
  .glider{
    display: flex;
  }
  
  .glider-prev,
  .glider-next { 
    position: absolute; 
    top: 40%;
    transform: translateY(-50%); 
    background: #2A6689; 
    color: #F3F4F6; 
    border: none; 
    border-radius: 24px; 
    width: 40px; 
    height: 120px; 
    cursor: pointer; 
    font-size: 2rem; 
    z-index: 10; 
  }

  .dots {
    display: flex;
    justify-content: center;
    margin-top: 31px;
  }

  .dots button.glider-dot {
    display: block;
    width: 24px;
    height: 12px;
    background-color: #234357;
    border-radius: 24px;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .dots button.glider-dot.active {
    background-color: rgb(var(--highlight));
    width: 78px;
    height: 12px;
  }

   @media screen and (min-width:1440px){
     .glider-prev { 
      left: -50px; 
    }
    .glider-next { 
      right: -50px;
    }

  }
</style>

<script>
  import Glider from 'glider-js';
  window.addEventListener("DOMContentLoaded",  () => {
    const el = document.querySelector(".glider") as HTMLElement;
    
    if (el) {
      new Glider(el, {
        slidesToScroll: 1,
        slidesToShow: 1, 
        draggable: true,
        scrollLock: true,
        dots: ".dots",
        arrows: {
          prev: ".glider-prev",
          next: ".glider-next",
        },
      });
    } else {
      console.error('Glider element not found');
    }
  });
</script> 